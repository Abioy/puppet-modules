#!/bin/bash
# <%= description %>
# Script generated by Puppet. It's executed when you run:
# puppi info <%= name %> 
#
# Sources common header for Puppi scripts
. <%= scope.lookupvar('puppi::params::scriptsdir') %>/header || exit 10

# Show Puppet info
echo_title "$HOSTNAME - Information on management with Puppet"
echo "Where to configure this node in Puppet:"
echo "manifests/nodes/<%= site %>.pp - Node's definition"
echo "manifests/roles/role_<%= role %>.pp - Role's definition"
echo "modules/<modulename>/init.pp - Main class for each module"
echo
echo "For a complete list of the classes and the resources managed in this node:"
echo "cat /var/lib/puppet/debug/localconfig"

# Show ReadMe file
echo_title "$HOSTNAME - Showing <%= name %> ReadMe"
show_command "cat <%= scope.lookupvar('puppi::params::readmedir') %>/<%= name %>"

<% if run != "" %>
echo_title "$HOSTNAME - Extra info"
<% run.split("###").each do |cmd| %>show_command "<%= cmd %>"
<% end %>
<% end %>
